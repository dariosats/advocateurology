<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Advocate Urology — Locum Tenens Job Board</title>
<meta name="description" content="The first centralized job board for locum tenens urology positions. Find transparent pay rates, filter by scope of practice, and connect directly with opportunities.">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700;800&family=Roboto:wght@300;400;500&display=swap" rel="stylesheet">
<style>
/* ========== RESET & BASE ========== */
*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
html { scroll-behavior: smooth; }
body {
  font-family: 'Roboto', sans-serif;
  font-weight: 300;
  color: #2d3748;
  background: #f7f8fc;
  line-height: 1.6;
  -webkit-font-smoothing: antialiased;
}
h1,h2,h3,h4,h5,h6 { font-family: 'Montserrat', sans-serif; }
a { text-decoration: none; color: inherit; }
img { max-width: 100%; display: block; }

/* ========== COLOR TOKENS ========== */
:root {
  --navy: #1a2744;
  --navy-light: #243352;
  --teal: #2a9d8f;
  --teal-dark: #238b7e;
  --teal-light: #e6f7f5;
  --gold: #e9c46a;
  --gold-dark: #d4a843;
  --coral: #e76f51;
  --light-bg: #f7f8fc;
  --card-bg: #ffffff;
  --text-primary: #1a2744;
  --text-secondary: #4a5568;
  --text-muted: #718096;
  --border: #e2e8f0;
  --shadow-sm: 0 1px 3px rgba(0,0,0,0.08);
  --shadow-md: 0 4px 12px rgba(0,0,0,0.1);
  --shadow-lg: 0 10px 30px rgba(0,0,0,0.12);
  --radius: 12px;
  --radius-sm: 8px;
}

/* ========== TOP NOTICE BAR ========== */
.notice-bar {
  background: var(--gold);
  color: var(--navy);
  text-align: center;
  padding: 8px 16px;
  font-family: 'Montserrat', sans-serif;
  font-weight: 600;
  font-size: 13px;
  letter-spacing: 0.3px;
}
.notice-bar a { text-decoration: underline; font-weight: 700; }

/* ========== NAVBAR ========== */
.navbar {
  background: var(--navy);
  padding: 0 24px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  height: 64px;
  position: sticky;
  top: 0;
  z-index: 100;
  box-shadow: 0 2px 8px rgba(0,0,0,0.2);
}
.navbar-brand {
  display: flex;
  align-items: center;
  gap: 12px;
}
.navbar-logo {
  width: 36px;
  height: 36px;
  background: var(--teal);
  border-radius: 8px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-family: 'Montserrat', sans-serif;
  font-weight: 800;
  font-size: 18px;
  color: white;
}
.navbar-title {
  font-family: 'Montserrat', sans-serif;
  font-weight: 700;
  font-size: 18px;
  color: white;
}
.navbar-title span { color: var(--teal); }
.navbar-links {
  display: flex;
  gap: 28px;
  align-items: center;
}
.navbar-links a {
  color: rgba(255,255,255,0.75);
  font-family: 'Montserrat', sans-serif;
  font-weight: 500;
  font-size: 14px;
  transition: color 0.2s;
}
.navbar-links a:hover { color: white; }
.navbar-links a.active { color: var(--teal); }
.btn-nav {
  background: var(--teal);
  color: white !important;
  padding: 8px 20px;
  border-radius: 6px;
  font-weight: 600;
  font-size: 13px;
  transition: background 0.2s;
}
.btn-nav:hover { background: var(--teal-dark); }
.mobile-toggle { display: none; cursor: pointer; background: none; border: none; }
.mobile-toggle span { display: block; width: 24px; height: 2px; background: white; margin: 5px 0; transition: 0.3s; }

/* ========== HERO ========== */
.hero {
  background: linear-gradient(135deg, var(--navy) 0%, var(--navy-light) 60%, #2e4a6e 100%);
  padding: 80px 24px 60px;
  text-align: center;
  position: relative;
  overflow: hidden;
}
.hero::before {
  content: '';
  position: absolute;
  top: -50%;
  right: -20%;
  width: 600px;
  height: 600px;
  background: radial-gradient(circle, rgba(42,157,143,0.15) 0%, transparent 70%);
  border-radius: 50%;
}
.hero::after {
  content: '';
  position: absolute;
  bottom: -30%;
  left: -10%;
  width: 400px;
  height: 400px;
  background: radial-gradient(circle, rgba(233,196,106,0.1) 0%, transparent 70%);
  border-radius: 50%;
}
.hero-content {
  max-width: 800px;
  margin: 0 auto;
  position: relative;
  z-index: 1;
}
.hero-badge {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  background: rgba(42,157,143,0.15);
  border: 1px solid rgba(42,157,143,0.3);
  color: var(--teal);
  padding: 6px 16px;
  border-radius: 20px;
  font-family: 'Montserrat', sans-serif;
  font-weight: 600;
  font-size: 12px;
  text-transform: uppercase;
  letter-spacing: 1px;
  margin-bottom: 24px;
}
.hero h1 {
  font-size: 42px;
  font-weight: 800;
  color: white;
  line-height: 1.15;
  margin-bottom: 16px;
}
.hero h1 em {
  font-style: normal;
  color: var(--teal);
}
.hero p {
  font-size: 18px;
  color: rgba(255,255,255,0.7);
  max-width: 620px;
  margin: 0 auto 32px;
  line-height: 1.7;
}
.hero-stats {
  display: flex;
  justify-content: center;
  gap: 48px;
  margin-top: 40px;
}
.hero-stat {
  text-align: center;
}
.hero-stat-number {
  font-family: 'Montserrat', sans-serif;
  font-size: 32px;
  font-weight: 800;
  color: var(--teal);
}
.hero-stat-label {
  font-size: 13px;
  color: rgba(255,255,255,0.5);
  margin-top: 4px;
  font-weight: 400;
}

/* ========== SEARCH & FILTERS ========== */
.filters-section {
  background: white;
  border-bottom: 1px solid var(--border);
  padding: 24px;
  position: sticky;
  top: 64px;
  z-index: 90;
  box-shadow: var(--shadow-sm);
}
.filters-inner {
  max-width: 1200px;
  margin: 0 auto;
}
.search-row {
  display: flex;
  gap: 12px;
  margin-bottom: 16px;
}
.search-box {
  flex: 1;
  position: relative;
}
.search-box svg {
  position: absolute;
  left: 14px;
  top: 50%;
  transform: translateY(-50%);
  color: var(--text-muted);
}
.search-box input {
  width: 100%;
  padding: 12px 14px 12px 44px;
  border: 2px solid var(--border);
  border-radius: var(--radius-sm);
  font-size: 15px;
  font-family: 'Roboto', sans-serif;
  transition: border-color 0.2s;
  outline: none;
}
.search-box input:focus { border-color: var(--teal); }
.search-box input::placeholder { color: var(--text-muted); }

.filter-row {
  display: flex;
  gap: 12px;
  flex-wrap: wrap;
  align-items: center;
}
.filter-select {
  padding: 10px 36px 10px 14px;
  border: 2px solid var(--border);
  border-radius: var(--radius-sm);
  font-size: 14px;
  font-family: 'Roboto', sans-serif;
  background: white;
  color: var(--text-primary);
  cursor: pointer;
  appearance: none;
  -webkit-appearance: none;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23718096' d='M6 8L1 3h10z'/%3E%3C/svg%3E");
  background-repeat: no-repeat;
  background-position: right 12px center;
  outline: none;
  transition: border-color 0.2s;
  min-width: 160px;
}
.filter-select:focus { border-color: var(--teal); }

.filter-toggle-group {
  display: flex;
  gap: 8px;
  margin-left: auto;
}
.filter-toggle {
  padding: 8px 16px;
  border: 2px solid var(--border);
  border-radius: 20px;
  font-size: 13px;
  font-family: 'Montserrat', sans-serif;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s;
  background: white;
  color: var(--text-secondary);
}
.filter-toggle:hover { border-color: var(--teal); color: var(--teal); }
.filter-toggle.active {
  background: var(--teal);
  border-color: var(--teal);
  color: white;
}
.results-count {
  font-size: 14px;
  color: var(--text-muted);
  padding-top: 12px;
  font-family: 'Montserrat', sans-serif;
  font-weight: 500;
}
.results-count strong { color: var(--text-primary); }

/* ========== JOB CARDS ========== */
.jobs-section {
  max-width: 1200px;
  margin: 0 auto;
  padding: 32px 24px 80px;
}
.job-card {
  background: var(--card-bg);
  border-radius: var(--radius);
  padding: 28px;
  margin-bottom: 16px;
  border: 1px solid var(--border);
  transition: all 0.25s ease;
  cursor: pointer;
  position: relative;
}
.job-card:hover {
  box-shadow: var(--shadow-md);
  border-color: var(--teal);
  transform: translateY(-1px);
}
.job-card-header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  gap: 16px;
  margin-bottom: 16px;
}
.job-card-title-area { flex: 1; }
.job-card-title {
  font-family: 'Montserrat', sans-serif;
  font-size: 18px;
  font-weight: 700;
  color: var(--text-primary);
  margin-bottom: 6px;
}
.job-card-location {
  display: flex;
  align-items: center;
  gap: 6px;
  font-size: 14px;
  color: var(--text-secondary);
}
.job-card-location svg { flex-shrink: 0; }
.job-card-pay {
  text-align: right;
  flex-shrink: 0;
}
.job-card-pay-amount {
  font-family: 'Montserrat', sans-serif;
  font-size: 20px;
  font-weight: 800;
  color: var(--teal);
}
.job-card-pay-period {
  font-size: 12px;
  color: var(--text-muted);
}
.pay-hidden {
  font-family: 'Montserrat', sans-serif;
  font-size: 14px;
  font-weight: 600;
  color: var(--coral);
  display: flex;
  align-items: center;
  gap: 4px;
}

.job-card-tags {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  margin-bottom: 16px;
}
.tag {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  padding: 4px 12px;
  border-radius: 16px;
  font-size: 12px;
  font-family: 'Montserrat', sans-serif;
  font-weight: 500;
}
.tag-scope { background: #eef2ff; color: #4338ca; }
.tag-duration { background: #fef3c7; color: #92400e; }
.tag-robot { background: #d1fae5; color: #065f46; }
.tag-call { background: #fce7f3; color: #9d174d; }
.tag-housing { background: #e0e7ff; color: #3730a3; }
.tag-transparent {
  background: rgba(42,157,143,0.1);
  color: var(--teal-dark);
  border: 1px solid rgba(42,157,143,0.2);
}

.job-card-meta {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding-top: 16px;
  border-top: 1px solid var(--border);
}
.job-card-broker {
  display: flex;
  align-items: center;
  gap: 8px;
}
.broker-avatar {
  width: 28px;
  height: 28px;
  border-radius: 6px;
  background: var(--navy);
  color: white;
  display: flex;
  align-items: center;
  justify-content: center;
  font-family: 'Montserrat', sans-serif;
  font-weight: 700;
  font-size: 11px;
}
.broker-name {
  font-size: 13px;
  color: var(--text-muted);
}
.broker-name strong {
  color: var(--text-secondary);
  font-weight: 500;
}
.job-card-actions {
  display: flex;
  gap: 8px;
}
.btn-view {
  padding: 8px 20px;
  background: var(--teal);
  color: white;
  border-radius: 6px;
  font-family: 'Montserrat', sans-serif;
  font-weight: 600;
  font-size: 13px;
  border: none;
  cursor: pointer;
  transition: background 0.2s;
}
.btn-view:hover { background: var(--teal-dark); }
.btn-save {
  padding: 8px 12px;
  background: transparent;
  border: 2px solid var(--border);
  border-radius: 6px;
  cursor: pointer;
  color: var(--text-muted);
  transition: all 0.2s;
}
.btn-save:hover { border-color: var(--coral); color: var(--coral); }

/* ========== TRANSPARENCY BANNER ========== */
.transparency-banner {
  background: linear-gradient(135deg, var(--teal-light) 0%, #f0fdf4 100%);
  border: 1px solid rgba(42,157,143,0.2);
  border-radius: var(--radius);
  padding: 28px;
  margin-bottom: 24px;
}
.transparency-header {
  display: flex;
  align-items: center;
  gap: 16px;
  cursor: pointer;
}
.transparency-icon {
  width: 48px;
  height: 48px;
  background: var(--teal);
  border-radius: 12px;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
}
.transparency-title-area { flex: 1; }
.transparency-title-area h3 {
  font-size: 16px;
  font-weight: 700;
  color: var(--text-primary);
  margin-bottom: 2px;
}
.transparency-title-area p {
  font-size: 14px;
  color: var(--text-secondary);
}
.transparency-toggle {
  background: none;
  border: none;
  cursor: pointer;
  color: var(--teal);
  font-family: 'Montserrat', sans-serif;
  font-weight: 600;
  font-size: 13px;
  display: flex;
  align-items: center;
  gap: 4px;
  padding: 8px 12px;
  border-radius: 6px;
  transition: background 0.2s;
  flex-shrink: 0;
}
.transparency-toggle:hover { background: rgba(42,157,143,0.1); }
.transparency-toggle svg {
  transition: transform 0.3s;
}
.transparency-toggle.open svg {
  transform: rotate(180deg);
}
.transparency-manifesto {
  max-height: 0;
  overflow: hidden;
  transition: max-height 0.4s ease, margin 0.3s ease;
  margin-top: 0;
}
.transparency-manifesto.open {
  max-height: 600px;
  margin-top: 24px;
}
.manifesto-content {
  border-top: 1px solid rgba(42,157,143,0.2);
  padding-top: 24px;
}
.manifesto-content h4 {
  font-size: 18px;
  font-weight: 700;
  color: var(--navy);
  margin-bottom: 16px;
}
.manifesto-points {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 16px;
}
.manifesto-point {
  display: flex;
  gap: 12px;
  align-items: flex-start;
}
.manifesto-point-icon {
  width: 36px;
  height: 36px;
  background: white;
  border-radius: 10px;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  box-shadow: 0 1px 4px rgba(0,0,0,0.06);
}
.manifesto-point h5 {
  font-size: 14px;
  font-weight: 700;
  color: var(--text-primary);
  margin-bottom: 4px;
}
.manifesto-point p {
  font-size: 13px;
  color: var(--text-secondary);
  line-height: 1.55;
}
.manifesto-closing {
  margin-top: 20px;
  padding: 16px 20px;
  background: white;
  border-radius: var(--radius-sm);
  font-size: 14px;
  color: var(--text-secondary);
  line-height: 1.65;
  border-left: 3px solid var(--teal);
}
.manifesto-closing strong { color: var(--text-primary); }
@media (max-width: 768px) {
  .manifesto-points { grid-template-columns: 1fr; }
  .transparency-header { flex-wrap: wrap; }
  .transparency-toggle { width: 100%; justify-content: center; margin-top: 8px; }
}

/* ========== INFO SECTION ========== */
.info-section {
  background: var(--navy);
  padding: 64px 24px;
}
.info-inner {
  max-width: 1200px;
  margin: 0 auto;
}
.info-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 32px;
}
.info-card {
  text-align: center;
  padding: 32px 24px;
}
.info-icon {
  width: 56px;
  height: 56px;
  background: rgba(42,157,143,0.15);
  border-radius: 14px;
  display: flex;
  align-items: center;
  justify-content: center;
  margin: 0 auto 16px;
}
.info-card h3 {
  color: white;
  font-size: 18px;
  font-weight: 700;
  margin-bottom: 8px;
}
.info-card p {
  color: rgba(255,255,255,0.6);
  font-size: 14px;
  line-height: 1.6;
}

/* ========== SUBMIT SECTION ========== */
.submit-section {
  background: linear-gradient(135deg, #f0fdf4 0%, var(--teal-light) 50%, #f0f9ff 100%);
  padding: 72px 24px;
  position: relative;
  overflow: hidden;
}
.submit-section::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 1px;
  background: linear-gradient(90deg, transparent, var(--teal), transparent);
}
.submit-inner {
  max-width: 1000px;
  margin: 0 auto;
  text-align: center;
}
.submit-inner > h2 {
  font-size: 32px;
  font-weight: 800;
  color: var(--navy);
  margin-bottom: 12px;
}
.submit-inner > p {
  font-size: 16px;
  color: var(--text-secondary);
  max-width: 600px;
  margin: 0 auto 40px;
  line-height: 1.7;
}
.submit-cards {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 24px;
  margin-bottom: 32px;
}
.submit-card {
  background: white;
  border-radius: var(--radius);
  padding: 36px 28px;
  border: 2px solid var(--border);
  transition: all 0.3s;
  text-align: left;
  position: relative;
}
.submit-card:hover {
  border-color: var(--teal);
  box-shadow: var(--shadow-lg);
  transform: translateY(-2px);
}
.submit-card-icon {
  width: 52px;
  height: 52px;
  border-radius: 14px;
  display: flex;
  align-items: center;
  justify-content: center;
  margin-bottom: 20px;
}
.submit-card-icon.agency { background: rgba(42,157,143,0.12); }
.submit-card-icon.facility { background: rgba(233,196,106,0.2); }
.submit-card h3 {
  font-size: 20px;
  font-weight: 700;
  color: var(--text-primary);
  margin-bottom: 8px;
}
.submit-card p {
  font-size: 14px;
  color: var(--text-secondary);
  line-height: 1.6;
  margin-bottom: 20px;
}
.submit-card ul {
  list-style: none;
  margin-bottom: 24px;
}
.submit-card ul li {
  font-size: 13px;
  color: var(--text-secondary);
  padding: 6px 0;
  display: flex;
  align-items: center;
  gap: 8px;
}
.submit-card ul li svg { flex-shrink: 0; }
.submit-card .btn-submit-card {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 12px 24px;
  border-radius: 8px;
  font-family: 'Montserrat', sans-serif;
  font-weight: 600;
  font-size: 14px;
  cursor: pointer;
  border: none;
  transition: all 0.2s;
  width: 100%;
  justify-content: center;
}
.btn-submit-agency {
  background: var(--teal);
  color: white;
}
.btn-submit-agency:hover { background: var(--teal-dark); }
.btn-submit-facility {
  background: var(--navy);
  color: white;
}
.btn-submit-facility:hover { background: var(--navy-light); }
.submit-note {
  font-size: 13px;
  color: var(--text-muted);
  margin-top: 8px;
}
.submit-badge {
  position: absolute;
  top: 16px;
  right: 16px;
  background: rgba(42,157,143,0.1);
  color: var(--teal);
  padding: 4px 10px;
  border-radius: 12px;
  font-family: 'Montserrat', sans-serif;
  font-weight: 600;
  font-size: 11px;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}
.submit-badge.gold {
  background: rgba(233,196,106,0.2);
  color: var(--gold-dark);
}

/* ========== MODAL ========== */
.modal-overlay {
  display: none;
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.5);
  backdrop-filter: blur(4px);
  z-index: 1000;
  justify-content: center;
  align-items: flex-start;
  padding: 40px 16px;
  overflow-y: auto;
}
.modal-overlay.active { display: flex; }
.modal {
  background: white;
  border-radius: 16px;
  max-width: 640px;
  width: 100%;
  box-shadow: var(--shadow-lg);
  animation: modalIn 0.3s ease;
  margin: auto;
}
@keyframes modalIn {
  from { opacity: 0; transform: translateY(24px) scale(0.96); }
  to { opacity: 1; transform: translateY(0) scale(1); }
}
.modal-header {
  padding: 28px 32px 0;
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
}
.modal-header h2 {
  font-size: 22px;
  font-weight: 700;
  color: var(--text-primary);
}
.modal-header p {
  font-size: 14px;
  color: var(--text-muted);
  margin-top: 4px;
}
.modal-close {
  background: none;
  border: none;
  cursor: pointer;
  color: var(--text-muted);
  padding: 4px;
  border-radius: 6px;
  transition: background 0.2s;
}
.modal-close:hover { background: var(--light-bg); }
.modal-body {
  padding: 24px 32px 32px;
}
.form-row {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 16px;
  margin-bottom: 16px;
}
.form-row.full { grid-template-columns: 1fr; }
.form-group { margin-bottom: 0; }
.form-group label {
  display: block;
  font-family: 'Montserrat', sans-serif;
  font-weight: 600;
  font-size: 13px;
  color: var(--text-primary);
  margin-bottom: 6px;
}
.form-group label .req { color: var(--coral); }
.form-group input,
.form-group select,
.form-group textarea {
  width: 100%;
  padding: 10px 14px;
  border: 2px solid var(--border);
  border-radius: var(--radius-sm);
  font-size: 14px;
  font-family: 'Roboto', sans-serif;
  color: var(--text-primary);
  transition: border-color 0.2s;
  outline: none;
  background: white;
}
.form-group input:focus,
.form-group select:focus,
.form-group textarea:focus {
  border-color: var(--teal);
}
.form-group input::placeholder,
.form-group textarea::placeholder {
  color: var(--text-muted);
}
.form-group textarea { resize: vertical; min-height: 80px; }
.form-group select {
  appearance: none;
  -webkit-appearance: none;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23718096' d='M6 8L1 3h10z'/%3E%3C/svg%3E");
  background-repeat: no-repeat;
  background-position: right 12px center;
  cursor: pointer;
}
.form-group .form-hint {
  font-size: 12px;
  color: var(--text-muted);
  margin-top: 4px;
}
.pay-incentive {
  background: var(--teal-light);
  border: 1px solid rgba(42,157,143,0.2);
  border-radius: var(--radius-sm);
  padding: 12px 16px;
  margin: 20px 0;
  display: flex;
  align-items: center;
  gap: 12px;
}
.pay-incentive svg { flex-shrink: 0; }
.pay-incentive p {
  font-size: 13px;
  color: var(--teal-dark);
  line-height: 1.5;
}
.pay-incentive strong { font-weight: 600; }
.checkbox-row {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  margin-bottom: 16px;
}
.checkbox-label {
  display: flex;
  align-items: center;
  gap: 6px;
  font-size: 13px;
  color: var(--text-secondary);
  cursor: pointer;
  padding: 6px 12px;
  border: 2px solid var(--border);
  border-radius: 20px;
  transition: all 0.2s;
  font-family: 'Roboto', sans-serif;
}
.checkbox-label:hover { border-color: var(--teal); }
.checkbox-label input { display: none; }
.checkbox-label input:checked + span { color: var(--teal); font-weight: 500; }
.checkbox-label:has(input:checked) {
  border-color: var(--teal);
  background: var(--teal-light);
  color: var(--teal-dark);
}
.form-divider {
  height: 1px;
  background: var(--border);
  margin: 24px 0;
}
.btn-submit-form {
  width: 100%;
  padding: 14px 24px;
  background: var(--teal);
  color: white;
  border: none;
  border-radius: var(--radius-sm);
  font-family: 'Montserrat', sans-serif;
  font-weight: 700;
  font-size: 15px;
  cursor: pointer;
  transition: background 0.2s;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
}
.btn-submit-form:hover { background: var(--teal-dark); }
.btn-submit-form.navy { background: var(--navy); }
.btn-submit-form.navy:hover { background: var(--navy-light); }
.form-footer {
  text-align: center;
  margin-top: 12px;
  font-size: 12px;
  color: var(--text-muted);
}

/* Success state */
.success-state {
  text-align: center;
  padding: 48px 24px;
}
.success-icon {
  width: 64px;
  height: 64px;
  background: var(--teal-light);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  margin: 0 auto 20px;
}
.success-state h3 {
  font-size: 20px;
  font-weight: 700;
  color: var(--text-primary);
  margin-bottom: 8px;
}
.success-state p {
  font-size: 14px;
  color: var(--text-secondary);
  line-height: 1.6;
  max-width: 400px;
  margin: 0 auto;
}

@media (max-width: 768px) {
  .submit-cards { grid-template-columns: 1fr; }
  .submit-inner > h2 { font-size: 24px; }
  .form-row { grid-template-columns: 1fr; }
  .modal { margin: 16px; }
  .modal-header, .modal-body { padding-left: 20px; padding-right: 20px; }
}

/* ========== FOOTER ========== */
.footer {
  background: #111827;
  padding: 48px 24px 24px;
  color: rgba(255,255,255,0.5);
}
.footer-inner {
  max-width: 1200px;
  margin: 0 auto;
  display: flex;
  justify-content: space-between;
  align-items: center;
}
.footer-brand {
  font-family: 'Montserrat', sans-serif;
  font-weight: 700;
  font-size: 16px;
  color: white;
}
.footer-brand span { color: var(--teal); }
.footer-text {
  font-size: 13px;
  margin-top: 8px;
  line-height: 1.5;
}
.footer-links {
  display: flex;
  gap: 24px;
}
.footer-links a {
  font-size: 13px;
  color: rgba(255,255,255,0.5);
  transition: color 0.2s;
}
.footer-links a:hover { color: white; }

/* ========== RESPONSIVE ========== */
@media (max-width: 768px) {
  .hero h1 { font-size: 28px; }
  .hero p { font-size: 16px; }
  .hero-stats { gap: 24px; flex-wrap: wrap; }
  .hero-stat-number { font-size: 24px; }
  .navbar-links { display: none; }
  .mobile-toggle { display: block; }
  .filter-row { flex-direction: column; }
  .filter-select { width: 100%; }
  .filter-toggle-group { margin-left: 0; width: 100%; justify-content: flex-start; flex-wrap: wrap; }
  .search-row { flex-direction: column; }
  .job-card-header { flex-direction: column; }
  .job-card-pay { text-align: left; }
  .job-card-meta { flex-direction: column; gap: 12px; align-items: flex-start; }
  .info-grid { grid-template-columns: 1fr; }
  .footer-inner { flex-direction: column; gap: 24px; text-align: center; }
  .transparency-banner { flex-direction: column; text-align: center; }
  .filters-section { position: static; }
}

/* ========== VISITOR COUNTER BADGE ========== */
.visitor-badge {
  position: fixed;
  bottom: 24px;
  right: 24px;
  background: var(--navy);
  color: white;
  padding: 12px 20px;
  border-radius: 40px;
  display: flex;
  align-items: center;
  gap: 10px;
  box-shadow: 0 4px 20px rgba(0,0,0,0.25);
  z-index: 80;
  font-family: 'Montserrat', sans-serif;
  font-size: 13px;
  font-weight: 500;
  opacity: 0;
  transform: translateY(20px);
  transition: all 0.5s cubic-bezier(0.16, 1, 0.3, 1);
  cursor: default;
  border: 1px solid rgba(255,255,255,0.1);
}
.visitor-badge.visible {
  opacity: 1;
  transform: translateY(0);
}
.visitor-badge:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 24px rgba(0,0,0,0.3);
}
.visitor-pulse {
  width: 8px;
  height: 8px;
  background: #34d399;
  border-radius: 50%;
  position: relative;
  flex-shrink: 0;
}
.visitor-pulse::before {
  content: '';
  position: absolute;
  inset: -3px;
  border-radius: 50%;
  background: #34d399;
  opacity: 0.4;
  animation: pulse 2s ease-in-out infinite;
}
@keyframes pulse {
  0%, 100% { transform: scale(1); opacity: 0.4; }
  50% { transform: scale(1.8); opacity: 0; }
}
.visitor-count {
  font-weight: 700;
  color: var(--teal);
  font-size: 15px;
  letter-spacing: -0.3px;
}
.visitor-label {
  color: rgba(255,255,255,0.65);
  font-weight: 400;
}
@media (max-width: 768px) {
  .visitor-badge {
    bottom: 16px;
    right: 16px;
    padding: 10px 16px;
    font-size: 12px;
  }
  .visitor-count { font-size: 13px; }
}

/* ========== ANIMATIONS ========== */
@keyframes fadeIn {
  from { opacity: 0; transform: translateY(12px); }
  to { opacity: 1; transform: translateY(0); }
}
.job-card { animation: fadeIn 0.4s ease forwards; }
.job-card:nth-child(2) { animation-delay: 0.05s; }
.job-card:nth-child(3) { animation-delay: 0.1s; }
.job-card:nth-child(4) { animation-delay: 0.15s; }

/* Empty state */
.empty-state {
  text-align: center;
  padding: 60px 24px;
  color: var(--text-muted);
}
.empty-state svg { margin: 0 auto 16px; }
.empty-state h3 {
  font-size: 18px;
  color: var(--text-primary);
  margin-bottom: 8px;
}
</style>
</head>
<body>

<!-- NOTICE BAR -->
<div class="notice-bar">
  &#9733; Prioritizing pay transparency — listings with disclosed rates are shown first. <a href="#about-transparency" onclick="setTimeout(function(){if(!document.getElementById('manifesto').classList.contains('open'))toggleManifesto()},400)">Learn why</a>
</div>

<!-- NAVBAR -->
<nav class="navbar">
  <div class="navbar-brand">
    <div class="navbar-logo">AU</div>
    <div class="navbar-title">Advocate <span>Urology</span></div>
  </div>
  <div class="navbar-links">
    <a href="https://advocateurology.com">Home</a>
    <a href="#" class="active">Job Board</a>
    <a href="mailto:advocateurology@pm.me" class="btn-nav">List a Position</a>
  </div>
  <button class="mobile-toggle" onclick="document.querySelector('.navbar-links').classList.toggle('show')" aria-label="Menu">
    <span></span><span></span><span></span>
  </button>
</nav>

<!-- HERO -->
<section class="hero">
  <div class="hero-content">
    <div class="hero-badge">
      <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="8"/><path d="m21 21-4.35-4.35"/></svg>
      Urology-Specific Job Board
    </div>
    <h1>Every Locums Urology Job.<br><em>One Place.</em></h1>
    <p>The first centralized board built by a urologist, for urologists. Search positions across all major agencies, compare transparent rates, and find your next assignment without the runaround.</p>
    <div class="hero-stats">
      <div class="hero-stat">
        <div class="hero-stat-number" id="stat-jobs">28</div>
        <div class="hero-stat-label">Active Listings</div>
      </div>
      <div class="hero-stat">
        <div class="hero-stat-number">22</div>
        <div class="hero-stat-label">States</div>
      </div>
      <div class="hero-stat">
        <div class="hero-stat-number">14</div>
        <div class="hero-stat-label">Agencies</div>
      </div>
    </div>
  </div>
</section>

<!-- FILTERS -->
<section class="filters-section">
  <div class="filters-inner">
    <div class="search-row">
      <div class="search-box">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="8"/><path d="m21 21-4.35-4.35"/></svg>
        <input type="text" id="searchInput" placeholder="Search by state, city, or keyword (e.g. &quot;robotics&quot;, &quot;Florida&quot;, &quot;clinic only&quot;)...">
      </div>
    </div>
    <div class="filter-row">
      <select class="filter-select" id="filterState">
        <option value="">All States</option>
        <option value="AZ">Arizona</option>
        <option value="CA">California</option>
        <option value="FL">Florida</option>
        <option value="GA">Georgia</option>
        <option value="IA">Iowa</option>
        <option value="IL">Illinois</option>
        <option value="IN">Indiana</option>
        <option value="MI">Michigan</option>
        <option value="NC">North Carolina</option>
        <option value="NJ">New Jersey</option>
        <option value="NY">New York</option>
        <option value="OH">Ohio</option>
        <option value="OR">Oregon</option>
        <option value="PA">Pennsylvania</option>
        <option value="SC">South Carolina</option>
        <option value="TN">Tennessee</option>
        <option value="TX">Texas</option>
        <option value="WA">Washington</option>
      </select>
      <select class="filter-select" id="filterScope">
        <option value="">All Scopes</option>
        <option value="clinic">Clinic Only</option>
        <option value="call">Call Only</option>
        <option value="clinic+call">Clinic + Call</option>
        <option value="surgery">Surgical / Procedures</option>
        <option value="robotics">Robotics (da Vinci)</option>
      </select>
      <select class="filter-select" id="filterBroker">
        <option value="">All Agencies</option>
        <option value="AMN Healthcare">AMN Healthcare</option>
        <option value="Aya Locums">Aya Locums</option>
        <option value="CompHealth">CompHealth</option>
        <option value="Curative">Curative</option>
        <option value="Hayes Locums">Hayes Locums</option>
        <option value="HealthTrust">HealthTrust</option>
        <option value="Jackson & Coker">Jackson & Coker</option>
        <option value="LocumTenens.com">LocumTenens.com</option>
        <option value="Medicus HCS">Medicus HCS</option>
        <option value="MPLT Healthcare">MPLT Healthcare</option>
        <option value="Staff Care">Staff Care</option>
        <option value="Weatherby">Weatherby Healthcare</option>
      </select>
      <div class="filter-toggle-group">
        <button class="filter-toggle" id="filterPayOnly" onclick="toggleFilter(this)">
          &#128176; Pay Disclosed
        </button>
        <button class="filter-toggle" id="filterRobotics" onclick="toggleFilter(this)">
          &#129302; Robotics
        </button>
      </div>
    </div>
    <div class="results-count" id="resultsCount"><strong>28</strong> positions found</div>
  </div>
</section>

<!-- JOBS -->
<section class="jobs-section">

  <!-- Transparency Banner & Manifesto -->
  <div class="transparency-banner" id="about-transparency">
    <div class="transparency-header" onclick="toggleManifesto()">
      <div class="transparency-icon">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></svg>
      </div>
      <div class="transparency-title-area">
        <h3>Pay Transparency First</h3>
        <p>Listings that disclose compensation are prioritized and shown first.</p>
      </div>
      <button class="transparency-toggle" id="manifestoToggle">
        Read why
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><polyline points="6 9 12 15 18 9"/></svg>
      </button>
    </div>
    <div class="transparency-manifesto" id="manifesto">
      <div class="manifesto-content">
        <h4>Why We're Building This Board</h4>
        <div class="manifesto-points">
          <div class="manifesto-point">
            <div class="manifesto-point-icon">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#e76f51" stroke-width="2"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/></svg>
            </div>
            <div>
              <h5>Information Asymmetry Hurts Everyone</h5>
              <p>Most locums urology positions are never publicly advertised. They live behind gatekeepers — agencies and brokers who hold exclusive contracts and control access to information. Urologists are left calling around blindly, and facilities overpay without realizing it.</p>
            </div>
          </div>
          <div class="manifesto-point">
            <div class="manifesto-point-icon">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#2a9d8f" stroke-width="2"><path d="M12 1v22M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"/></svg>
            </div>
            <div>
              <h5>Know the Rate Before You Invest Your Time</h5>
              <p>A common tactic is withholding pay until a physician has already committed time and energy pursuing a lead. We flip that: listings that disclose compensation get top placement and a transparency badge. Your time is valuable — you deserve to know the rate upfront.</p>
            </div>
          </div>
          <div class="manifesto-point">
            <div class="manifesto-point-icon">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#e9c46a" stroke-width="2"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M23 21v-2a4 4 0 0 0-3-3.87M16 3.13a4 4 0 0 1 0 7.75"/></svg>
            </div>
            <div>
              <h5>Empowering Physicians and Facilities Alike</h5>
              <p>Middlemen sometimes charge facilities 30-50% of the locums rate for their services. By giving facilities a direct channel to list positions and urologists a centralized place to find them, we reduce friction and cost for both sides — better for doctors, better for communities.</p>
            </div>
          </div>
          <div class="manifesto-point">
            <div class="manifesto-point-icon">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#4338ca" stroke-width="2"><path d="M22 12h-4l-3 9L9 3l-3 9H2"/></svg>
            </div>
            <div>
              <h5>One Board, Every Opportunity</h5>
              <p>In an ideal world, there would be one place where every available urology locums position — regardless of agency — is searchable, filterable, and comparable. That's what we're building. One specialty. One board. Full visibility.</p>
            </div>
          </div>
        </div>
        <div class="manifesto-closing">
          <strong>This board was built by a locums urologist who lived the problem.</strong> After years of navigating fragmented listings, opaque pay, and redundant broker calls, it became clear that urologists — and the communities counting on them — deserve better. Advocate Urology exists to close that gap.
        </div>
      </div>
    </div>
  </div>

  <!-- JOB CARDS (populated by JS) -->
  <div id="jobsList"></div>

  <div id="emptyState" class="empty-state" style="display:none;">
    <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="#a0aec0" stroke-width="1.5"><circle cx="11" cy="11" r="8"/><path d="m21 21-4.35-4.35"/></svg>
    <h3>No positions match your filters</h3>
    <p>Try broadening your search or adjusting filters.</p>
  </div>

</section>

<!-- INFO SECTION -->
<section class="info-section">
  <div class="info-inner">
    <div class="info-grid">
      <div class="info-card">
        <div class="info-icon">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#2a9d8f" stroke-width="2"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/></svg>
        </div>
        <h3>End the Runaround</h3>
        <p>No more calling 10 agencies for the same job. See every available urology locums position in one centralized, searchable board.</p>
      </div>
      <div class="info-card">
        <div class="info-icon">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#2a9d8f" stroke-width="2"><path d="M12 1v22M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"/></svg>
        </div>
        <h3>Know Your Worth</h3>
        <p>Transparent listings show actual rates. Positions hiding pay are flagged so you know exactly what you're getting into before reaching out.</p>
      </div>
      <div class="info-card">
        <div class="info-icon">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#2a9d8f" stroke-width="2"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M23 21v-2a4 4 0 0 0-3-3.87M16 3.13a4 4 0 0 1 0 7.75"/></svg>
        </div>
        <h3>Built for Urologists</h3>
        <p>Filter by what matters in urology: robotics access, call burden, case mix, procedure types. Not a generic job board — built by a urologist who gets it.</p>
      </div>
    </div>
  </div>
</section>

<!-- SUBMIT SECTION -->
<section class="submit-section" id="submit-position">
  <div class="submit-inner">
    <h2>List a Position</h2>
    <p>Help urologists find their next assignment. Agencies and facilities can submit openings for free — listings with transparent pay get priority placement.</p>

    <div class="submit-cards">
      <!-- AGENCY CARD -->
      <div class="submit-card">
        <div class="submit-badge">Free Listing</div>
        <div class="submit-card-icon agency">
          <svg width="26" height="26" viewBox="0 0 24 24" fill="none" stroke="#2a9d8f" stroke-width="2"><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="m22 2-5 5"/><path d="m17 2 5 5"/></svg>
        </div>
        <h3>I'm an Agency / Recruiter</h3>
        <p>List your urology locum tenens openings and reach urologists actively searching for assignments.</p>
        <ul>
          <li>
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#2a9d8f" stroke-width="2"><polyline points="20 6 9 17 4 12"/></svg>
            Free to list — no fees or contracts
          </li>
          <li>
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#2a9d8f" stroke-width="2"><polyline points="20 6 9 17 4 12"/></svg>
            Transparent pay listings get top placement
          </li>
          <li>
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#2a9d8f" stroke-width="2"><polyline points="20 6 9 17 4 12"/></svg>
            Reach urologists searching by scope and location
          </li>
          <li>
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#2a9d8f" stroke-width="2"><polyline points="20 6 9 17 4 12"/></svg>
            Include your direct link for easy apply
          </li>
        </ul>
        <button class="btn-submit-card btn-submit-agency" onclick="openModal('agency')">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 5v14M5 12h14"/></svg>
          Submit a Listing
        </button>
      </div>

      <!-- FACILITY CARD -->
      <div class="submit-card">
        <div class="submit-badge gold">Skip the Middleman</div>
        <div class="submit-card-icon facility">
          <svg width="26" height="26" viewBox="0 0 24 24" fill="none" stroke="#d4a843" stroke-width="2"><path d="M3 21h18M9 8h1M9 12h1M9 16h1M14 8h1M14 12h1M14 16h1M5 21V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16"/></svg>
        </div>
        <h3>I'm a Hospital / Facility</h3>
        <p>Post directly and connect with locums urologists without agency middlemen or markups.</p>
        <ul>
          <li>
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#d4a843" stroke-width="2"><polyline points="20 6 9 17 4 12"/></svg>
            Eliminate the 30-50% agency markup
          </li>
          <li>
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#d4a843" stroke-width="2"><polyline points="20 6 9 17 4 12"/></svg>
            Direct connection with qualified urologists
          </li>
          <li>
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#d4a843" stroke-width="2"><polyline points="20 6 9 17 4 12"/></svg>
            Describe your exact scope and support needs
          </li>
          <li>
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#d4a843" stroke-width="2"><polyline points="20 6 9 17 4 12"/></svg>
            Faster fill times for critical gaps
          </li>
        </ul>
        <button class="btn-submit-card btn-submit-facility" onclick="openModal('facility')">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 5v14M5 12h14"/></svg>
          Post a Position
        </button>
      </div>
    </div>

    <p class="submit-note">All submissions are reviewed before publishing. Listings that disclose compensation receive priority placement and a verified badge.</p>
  </div>
</section>

<!-- SUBMISSION MODAL -->
<div class="modal-overlay" id="modalOverlay" onclick="if(event.target===this)closeModal()">
  <div class="modal">
    <!-- FORM VIEW -->
    <div id="formView">
      <div class="modal-header">
        <div>
          <h2 id="modalTitle">Submit a Listing</h2>
          <p id="modalSubtitle">Free listing — reviewed within 48 hours</p>
        </div>
        <button class="modal-close" onclick="closeModal()" aria-label="Close">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M18 6 6 18M6 6l12 12"/></svg>
        </button>
      </div>
      <div class="modal-body">
        <form id="submissionForm" onsubmit="handleSubmit(event)">

          <!-- Submitter Info -->
          <div class="form-row">
            <div class="form-group">
              <label>Your Name <span class="req">*</span></label>
              <input type="text" name="contactName" placeholder="Jane Smith" required>
            </div>
            <div class="form-group">
              <label>Email <span class="req">*</span></label>
              <input type="email" name="contactEmail" placeholder="jane@agency.com" required>
            </div>
          </div>
          <div class="form-row">
            <div class="form-group">
              <label id="orgLabel">Agency / Company Name <span class="req">*</span></label>
              <input type="text" name="orgName" placeholder="Acme Staffing" required>
            </div>
            <div class="form-group">
              <label>Phone (optional)</label>
              <input type="tel" name="phone" placeholder="(555) 123-4567">
            </div>
          </div>

          <div class="form-divider"></div>

          <!-- Position Details -->
          <div class="form-row">
            <div class="form-group">
              <label>Position Title <span class="req">*</span></label>
              <input type="text" name="title" placeholder="Locum Tenens Urologist" required>
            </div>
            <div class="form-group">
              <label>Location (City, State) <span class="req">*</span></label>
              <input type="text" name="location" placeholder="Tampa, FL" required>
            </div>
          </div>
          <div class="form-row">
            <div class="form-group">
              <label>Assignment Duration</label>
              <select name="duration">
                <option value="">Select duration</option>
                <option>1-2 weeks</option>
                <option>1-3 months</option>
                <option>3-6 months</option>
                <option>6+ months</option>
                <option>Ongoing / Indefinite</option>
              </select>
            </div>
            <div class="form-group">
              <label>Start Date</label>
              <input type="text" name="startDate" placeholder="ASAP, March 2026, Flexible">
            </div>
          </div>

          <!-- Scope of Practice -->
          <div class="form-row full">
            <div class="form-group">
              <label>Scope of Practice <span class="req">*</span></label>
              <div class="checkbox-row">
                <label class="checkbox-label"><input type="checkbox" name="scope" value="clinic"><span>Clinic / Outpatient</span></label>
                <label class="checkbox-label"><input type="checkbox" name="scope" value="call"><span>Call Coverage</span></label>
                <label class="checkbox-label"><input type="checkbox" name="scope" value="procedures"><span>Procedures</span></label>
                <label class="checkbox-label"><input type="checkbox" name="scope" value="robotics"><span>Robotics (da Vinci)</span></label>
                <label class="checkbox-label"><input type="checkbox" name="scope" value="inpatient"><span>Inpatient Rounding</span></label>
              </div>
            </div>
          </div>

          <!-- Pay -->
          <div class="pay-incentive">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#2a9d8f" stroke-width="2"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></svg>
            <p><strong>Listings that disclose compensation get priority placement</strong> and a verified transparency badge. Urologists prefer knowing the rate upfront.</p>
          </div>
          <div class="form-row">
            <div class="form-group">
              <label>Compensation Rate</label>
              <input type="text" name="pay" placeholder="e.g. $2,800/day, $275/hr, $400K/yr">
              <div class="form-hint">Leave blank if you prefer not to disclose (listing will be deprioritized)</div>
            </div>
            <div class="form-group">
              <label>Benefits Included</label>
              <select name="benefits" multiple style="min-height: auto;">
                <option value="housing">Housing / Lodging</option>
                <option value="travel">Travel / Airfare</option>
                <option value="malpractice">Malpractice Insurance</option>
                <option value="licensing">Licensing Costs</option>
              </select>
              <div class="form-hint">Hold Ctrl/Cmd to select multiple</div>
            </div>
          </div>

          <!-- Additional Info -->
          <div class="form-row full">
            <div class="form-group">
              <label>Additional Details</label>
              <textarea name="details" placeholder="Patient volume, call frequency, support staff, EHR system, anything a urologist should know about this position..."></textarea>
            </div>
          </div>
          <div class="form-row full">
            <div class="form-group">
              <label>Direct Apply Link (optional)</label>
              <input type="url" name="applyUrl" placeholder="https://youragency.com/job/12345">
              <div class="form-hint">Include a direct link so urologists can apply or learn more</div>
            </div>
          </div>

          <button type="submit" class="btn-submit-form" id="btnSubmitForm">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 2 11 13M22 2l-7 20-4-9-9-4 20-7z"/></svg>
            Submit for Review
          </button>
          <div class="form-footer">Listings are published automatically. We may follow up by email for verification.</div>
        </form>
      </div>
    </div>

    <!-- SUCCESS VIEW -->
    <div id="successView" style="display:none;">
      <div class="modal-header">
        <div></div>
        <button class="modal-close" onclick="closeModal()" aria-label="Close">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M18 6 6 18M6 6l12 12"/></svg>
        </button>
      </div>
      <div class="success-state">
        <div class="success-icon">
          <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="#2a9d8f" stroke-width="2.5"><polyline points="20 6 9 17 4 12"/></svg>
        </div>
        <h3>Listing Submitted!</h3>
        <p>Your listing has been submitted and will appear on the board shortly. Thank you for helping urologists find their next opportunity.</p>
      </div>
    </div>
  </div>
</div>

<!-- FOOTER -->
<footer class="footer">
  <div class="footer-inner">
    <div>
      <div class="footer-brand">Advocate <span>Urology</span></div>
      <div class="footer-text">Ricardo Gonzalez, MD, FACS &bull; Board-Certified Urologist<br>Built to empower urologists and the communities they serve.</div>
    </div>
    <div class="footer-links">
      <a href="https://advocateurology.com">Main Site</a>
      <a href="mailto:advocateurology@pm.me">Contact</a>
    </div>
  </div>
</footer>

<script>
// ========== GOOGLE SHEETS CONFIG ==========
// INSTRUCTIONS: Replace this URL with your published Google Sheet CSV URL
// (File → Share → Publish to web → Listings sheet → CSV → Publish → copy URL)
const SHEET_CSV_URL = "https://docs.google.com/spreadsheets/d/e/2PACX-1vSALu-tO5WQ9iZdbH9PtAznsf2pgyGr3rAIfLlCJGa3ll5MKCY6S6ZDeoCm49GJrRJ6zTpjW--EHQFt/pub?gid=899754584&single=true&output=csv";

// ========== APPS SCRIPT CONFIG ==========
// INSTRUCTIONS: Replace this URL with your deployed Google Apps Script Web App URL
// (See setup guide — Deploy > New deployment > Web app > copy URL)
const APPS_SCRIPT_URL = "https://script.google.com/macros/s/AKfycbys5OxgqaiXeZR6hBWB6-MTrwV8fuFo6_ddEFQ-gbb3FckHhSL8sS4WNx-JCaEb-sY/exec";

// ========== CSV PARSER ==========
function parseCSV(text) {
  const rows = [];
  let current = '';
  let inQuotes = false;
  let row = [];
  for (let i = 0; i < text.length; i++) {
    const ch = text[i];
    if (inQuotes) {
      if (ch === '"' && text[i+1] === '"') { current += '"'; i++; }
      else if (ch === '"') { inQuotes = false; }
      else { current += ch; }
    } else {
      if (ch === '"') { inQuotes = true; }
      else if (ch === ',') { row.push(current.trim()); current = ''; }
      else if (ch === '\n' || (ch === '\r' && text[i+1] === '\n')) {
        row.push(current.trim()); current = '';
        if (row.length > 1) rows.push(row);
        row = [];
        if (ch === '\r') i++;
      } else { current += ch; }
    }
  }
  if (current || row.length) { row.push(current.trim()); if (row.length > 1) rows.push(row); }
  return rows;
}

// ========== CONVERT SHEET ROW TO JOB OBJECT ==========
function rowToJob(headers, values) {
  const get = (name) => {
    const idx = headers.findIndex(h => h.toLowerCase().replace(/[^a-z]/g,'') === name.toLowerCase().replace(/[^a-z]/g,''));
    return idx >= 0 && idx < values.length ? values[idx] : '';
  };

  const status = get('Status');
  if (status && status.toLowerCase() !== 'active') return null;

  const title = get('Title');
  const city = get('City');
  const state = get('State');
  const payRaw = get('PayRate');
  const duration = get('Duration');
  const startDate = get('StartDate');
  const scopeRaw = get('Scope');
  const broker = get('AgencyFacility');
  const type = get('Type');
  const tagsRaw = get('Tags');
  const url = get('ApplyURL');

  if (!title || !city) return null;

  const location = state ? `${city}, ${state}` : city;

  // Parse pay
  let pay = null, payPeriod = null, payDisclosed = false;
  if (payRaw && payRaw.trim()) {
    payDisclosed = true;
    const raw = payRaw.trim();
    if (/\/day/i.test(raw)) { pay = raw.replace(/\/day/i,'').trim(); payPeriod = 'per day'; }
    else if (/\/hr|\/hour/i.test(raw)) { pay = raw.replace(/\/(hr|hour)/i,'').trim(); payPeriod = 'per hour'; }
    else if (/\/week/i.test(raw)) { pay = raw.replace(/\/week/i,'').trim(); payPeriod = 'per week'; }
    else if (/\/yr|\/year|\/annual/i.test(raw)) { pay = raw.replace(/\/(yr|year|annual)/i,'').trim(); payPeriod = 'per year'; }
    else { pay = raw; payPeriod = ''; }
  }

  // Parse scope
  const scopeItems = scopeRaw ? scopeRaw.split(',').map(s => s.trim().toLowerCase()).filter(Boolean) : [];
  const scope = [];
  const hasClinic = scopeItems.includes('clinic');
  const hasCall = scopeItems.includes('call');
  if (hasClinic && hasCall) scope.push('clinic+call');
  else if (hasClinic) scope.push('clinic');
  else if (hasCall) scope.push('call');
  if (scopeItems.includes('procedures') || scopeItems.includes('surgery')) scope.push('surgery');
  if (scopeItems.includes('robotics')) scope.push('robotics');
  const hasRobotics = scopeItems.includes('robotics');

  // Build tags
  const tags = [];
  const tagTypes = [];
  if (hasClinic && hasCall) { tags.push('Clinic + Call'); tagTypes.push('scope'); }
  else if (hasClinic) { tags.push('Clinic Only'); tagTypes.push('scope'); }
  else if (hasCall) { tags.push('Call Only'); tagTypes.push('call'); }
  if (scopeItems.includes('procedures') || scopeItems.includes('surgery')) { tags.push('Procedures'); tagTypes.push('scope'); }
  if (hasRobotics) { tags.push('da Vinci Robot'); tagTypes.push('robot'); }
  if (scopeItems.includes('inpatient')) { tags.push('Inpatient'); tagTypes.push('scope'); }
  // Extra tags from the Tags column
  if (tagsRaw) {
    tagsRaw.split(',').map(t => t.trim()).filter(Boolean).forEach(t => {
      tags.push(t);
      const tl = t.toLowerCase();
      if (tl.includes('housing') || tl.includes('travel') || tl.includes('malpractice') || tl.includes('licensing')) tagTypes.push('housing');
      else if (tl.includes('robot') || tl.includes('vinci') || tl.includes('uronav')) tagTypes.push('robot');
      else tagTypes.push('duration');
    });
  }

  // Broker initials
  const words = broker.split(/[\s.]+/).filter(w => w.length > 0);
  const brokerInitials = words.length >= 2
    ? (words[0][0] + words[1][0]).toUpperCase()
    : broker.substring(0,2).toUpperCase();

  const searchText = [city, state, title, broker, scopeRaw, tagsRaw, duration]
    .filter(Boolean).join(' ').toLowerCase();

  return {
    title, location, state: state || '', pay, payPeriod,
    payDisclosed, broker, brokerInitials, scope, tags, tagTypes,
    hasRobotics, duration, startDate, url: url || '#',
    searchText, isFacility: type && type.toLowerCase() === 'facility'
  };
}

// ========== LOAD FROM GOOGLE SHEETS ==========
let jobs = [];

async function loadJobs() {
  // Try loading from Google Sheet
  if (SHEET_CSV_URL && SHEET_CSV_URL !== "YOUR_GOOGLE_SHEET_CSV_URL_HERE") {
    try {
      const res = await fetch(SHEET_CSV_URL);
      if (res.ok) {
        const text = await res.text();
        const rows = parseCSV(text);
        if (rows.length > 1) {
          const headers = rows[0];
          const sheetJobs = rows.slice(1)
            .map(r => rowToJob(headers, r))
            .filter(Boolean);
          if (sheetJobs.length > 0) {
            jobs = sheetJobs;
            console.log(`Loaded ${jobs.length} listings from Google Sheet`);
            finalizeJobs();
            return;
          }
        }
      }
    } catch (e) {
      console.log('Google Sheet unavailable, using built-in data', e);
    }
  }
  // Fallback to hardcoded data
  jobs = fallbackJobs;
  console.log(`Using ${jobs.length} built-in listings (connect Google Sheet for live updates)`);
  finalizeJobs();
}

function finalizeJobs() {
  jobs.sort((a, b) => (b.payDisclosed ? 1 : 0) - (a.payDisclosed ? 1 : 0));
  document.getElementById('stat-jobs').textContent = jobs.length;
  renderJobs(jobs);
}

// ========== FALLBACK JOB DATA ==========
const fallbackJobs = [
  {
    title: "Locum Tenens Urologist",
    location: "Flagstaff, AZ",
    state: "AZ",
    pay: "$2,950 - $3,150",
    payPeriod: "per day",
    payDisclosed: true,
    broker: "Aya Locums",
    brokerInitials: "AY",
    scope: ["clinic+call"],
    tags: ["Clinic + Call", "Housing Provided"],
    tagTypes: ["scope", "housing"],
    hasRobotics: false,
    duration: "Ongoing",
    startDate: "Jan 2026",
    url: "https://www.ayalocums.com",
    searchText: "flagstaff arizona clinic call housing"
  },
  {
    title: "Urologist — Outpatient Clinic",
    location: "Prescott, AZ",
    state: "AZ",
    pay: "Up to $13,000",
    payPeriod: "per week",
    payDisclosed: true,
    broker: "AMN Healthcare",
    brokerInitials: "AMN",
    scope: ["clinic"],
    tags: ["Clinic Only", "Malpractice Included"],
    tagTypes: ["scope", "housing"],
    hasRobotics: false,
    duration: "3-6 months",
    startDate: "Feb 2026",
    url: "https://www.amnhealthcare.com/careers/physician/apply/locum-tenens-urology-physician-jobs/",
    searchText: "prescott arizona clinic outpatient"
  },
  {
    title: "General Urologist — Full Spectrum",
    location: "San Diego, CA",
    state: "CA",
    pay: "$400,000 - $650,000",
    payPeriod: "per year",
    payDisclosed: true,
    broker: "AMN Healthcare",
    brokerInitials: "AMN",
    scope: ["clinic+call", "surgery"],
    tags: ["Clinic + Call", "Surgical", "Housing Provided"],
    tagTypes: ["scope", "scope", "housing"],
    hasRobotics: false,
    duration: "6+ months",
    startDate: "Feb 2026",
    url: "https://www.amnhealthcare.com/careers/physician/apply/locum-tenens-urology-physician-jobs/",
    searchText: "san diego california full spectrum surgery surgical"
  },
  {
    title: "Urologist — Board Certified",
    location: "Bakersfield, CA",
    state: "CA",
    pay: "$275 - $325",
    payPeriod: "per hour",
    payDisclosed: true,
    broker: "Curative",
    brokerInitials: "CU",
    scope: ["clinic+call"],
    tags: ["Clinic + Call", "Pay Transparent"],
    tagTypes: ["scope", "transparent"],
    hasRobotics: false,
    duration: "3 months",
    startDate: "Feb 2026",
    url: "https://curativetalent.com/clinicians/jobs",
    searchText: "bakersfield california board certified"
  },
  {
    title: "Locum Urologist — Clinic Coverage",
    location: "Miami, FL",
    state: "FL",
    pay: null,
    payPeriod: null,
    payDisclosed: false,
    broker: "Hayes Locums",
    brokerInitials: "HL",
    scope: ["clinic"],
    tags: ["Clinic Only", "Mon-Fri"],
    tagTypes: ["scope", "duration"],
    hasRobotics: false,
    duration: "Ongoing",
    startDate: "Flexible",
    url: "https://www.hayeslocums.com",
    searchText: "miami florida clinic monday friday"
  },
  {
    title: "Urologist — Call Coverage",
    location: "Orlando, FL",
    state: "FL",
    pay: null,
    payPeriod: null,
    payDisclosed: false,
    broker: "Weatherby",
    brokerInitials: "WB",
    scope: ["call"],
    tags: ["Call Only", "Weekends Available"],
    tagTypes: ["call", "duration"],
    hasRobotics: false,
    duration: "1-3 months",
    startDate: "2026",
    url: "https://weatherbyhealthcare.com/locum-tenens-physician-jobs/urology",
    searchText: "orlando florida call coverage weekends"
  },
  {
    title: "Urologist — Clinic + Procedures",
    location: "Tampa, FL",
    state: "FL",
    pay: null,
    payPeriod: null,
    payDisclosed: false,
    broker: "LocumTenens.com",
    brokerInitials: "LT",
    scope: ["clinic+call", "surgery"],
    tags: ["Clinic + Call", "Procedures"],
    tagTypes: ["scope", "scope"],
    hasRobotics: false,
    duration: "3-6 months",
    startDate: "2026",
    url: "https://www.locumtenens.com/urology-jobs/",
    searchText: "tampa florida clinic procedures"
  },
  {
    title: "Urologist — Locum Tenens",
    location: "Jacksonville, FL",
    state: "FL",
    pay: null,
    payPeriod: null,
    payDisclosed: false,
    broker: "Staff Care",
    brokerInitials: "SC",
    scope: ["clinic+call"],
    tags: ["Clinic + Call", "Travel + Housing"],
    tagTypes: ["scope", "housing"],
    hasRobotics: false,
    duration: "Ongoing",
    startDate: "Flexible",
    url: "https://www.staffcare.com/locum-tenens-jobs/search/t/urology/",
    searchText: "jacksonville florida travel housing"
  },
  {
    title: "Urologist — High-Volume Practice",
    location: "Atlanta, GA",
    state: "GA",
    pay: "$325 - $400",
    payPeriod: "per hour",
    payDisclosed: true,
    broker: "Curative",
    brokerInitials: "CU",
    scope: ["clinic+call", "surgery"],
    tags: ["Clinic + Call", "Surgical", "Pay Transparent"],
    tagTypes: ["scope", "scope", "transparent"],
    hasRobotics: false,
    duration: "3-6 months",
    startDate: "2026",
    url: "https://curativetalent.com/clinicians/jobs",
    searchText: "atlanta georgia high volume surgical"
  },
  {
    title: "Urologist — Rural Community",
    location: "Sioux City, IA",
    state: "IA",
    pay: "$590,000",
    payPeriod: "per year",
    payDisclosed: true,
    broker: "AMN Healthcare",
    brokerInitials: "AMN",
    scope: ["clinic+call", "surgery"],
    tags: ["Clinic + Call", "Surgical", "Solo Practice"],
    tagTypes: ["scope", "scope", "duration"],
    hasRobotics: false,
    duration: "Long-term",
    startDate: "2026",
    url: "https://www.amnhealthcare.com/careers/physician/apply/locum-tenens-urology-physician-jobs/",
    searchText: "sioux city iowa rural community solo"
  },
  {
    title: "Urologist — 24-Hour Call",
    location: "Chicago, IL",
    state: "IL",
    pay: null,
    payPeriod: null,
    payDisclosed: false,
    broker: "Medicus HCS",
    brokerInitials: "MH",
    scope: ["call"],
    tags: ["24-Hr Call", "25 pts/day clinic"],
    tagTypes: ["call", "scope"],
    hasRobotics: false,
    duration: "Ongoing",
    startDate: "2026",
    url: "https://medicushcs.com/locum-tenens-urology",
    searchText: "chicago illinois 24 hour call inpatient"
  },
  {
    title: "Urologist — Holiday Coverage",
    location: "Fort Wayne, IN",
    state: "IN",
    pay: null,
    payPeriod: null,
    payDisclosed: false,
    broker: "LocumTenens.com",
    brokerInitials: "LT",
    scope: ["call"],
    tags: ["24-Hr Call", "Short-Term"],
    tagTypes: ["call", "duration"],
    hasRobotics: false,
    duration: "2 weeks",
    startDate: "Flexible",
    url: "https://www.locumtenens.com/urology-jobs/",
    searchText: "fort wayne indiana holiday coverage short term"
  },
  {
    title: "Urologist — Robotic Surgery",
    location: "Grand Rapids, MI",
    state: "MI",
    pay: null,
    payPeriod: null,
    payDisclosed: false,
    broker: "CompHealth",
    brokerInitials: "CH",
    scope: ["clinic+call", "surgery", "robotics"],
    tags: ["Clinic + Call", "da Vinci Robot", "UroNav Biopsy"],
    tagTypes: ["scope", "robot", "robot"],
    hasRobotics: true,
    duration: "3-6 months",
    startDate: "2026",
    url: "https://comphealth.com/jobs/physician/urology",
    searchText: "grand rapids michigan robotic surgery da vinci uronav"
  },
  {
    title: "Urologist — UP Michigan",
    location: "Marquette, MI",
    state: "MI",
    pay: "Up to $13,000",
    payPeriod: "per week",
    payDisclosed: true,
    broker: "AMN Healthcare",
    brokerInitials: "AMN",
    scope: ["clinic+call"],
    tags: ["Clinic + Call", "Rural", "Housing Provided"],
    tagTypes: ["scope", "duration", "housing"],
    hasRobotics: false,
    duration: "6+ months",
    startDate: "2026",
    url: "https://www.amnhealthcare.com/careers/physician/apply/locum-tenens-urology-physician-jobs/",
    searchText: "marquette michigan upper peninsula rural"
  },
  {
    title: "Urologist — Call Only",
    location: "Charlotte, NC",
    state: "NC",
    pay: null,
    payPeriod: null,
    payDisclosed: false,
    broker: "Jackson & Coker",
    brokerInitials: "JC",
    scope: ["call"],
    tags: ["Call Only", "Weekends"],
    tagTypes: ["call", "duration"],
    hasRobotics: false,
    duration: "Ongoing",
    startDate: "Jan 2026",
    url: "https://jobs.jacksoncoker.com/urology-jobs",
    searchText: "charlotte north carolina call only weekends"
  },
  {
    title: "Urologist — Academic Center",
    location: "Newark, NJ",
    state: "NJ",
    pay: null,
    payPeriod: null,
    payDisclosed: false,
    broker: "LocumTenens.com",
    brokerInitials: "LT",
    scope: ["clinic+call", "surgery"],
    tags: ["Clinic + Call", "Academic Setting"],
    tagTypes: ["scope", "scope"],
    hasRobotics: false,
    duration: "3-6 months",
    startDate: "2026",
    url: "https://www.locumtenens.com/urology-jobs/",
    searchText: "newark new jersey academic center teaching"
  },
  {
    title: "Urologist — NYC Metro",
    location: "New York, NY",
    state: "NY",
    pay: "$565,000 - $637,000",
    payPeriod: "per year",
    payDisclosed: true,
    broker: "AMN Healthcare",
    brokerInitials: "AMN",
    scope: ["clinic+call", "surgery"],
    tags: ["Clinic + Call", "Surgical", "Pay Transparent"],
    tagTypes: ["scope", "scope", "transparent"],
    hasRobotics: false,
    duration: "6+ months",
    startDate: "2026",
    url: "https://www.amnhealthcare.com/careers/physician/apply/locum-tenens-urology-physician-jobs/",
    searchText: "new york city nyc metro surgical"
  },
  {
    title: "Urologist — Upstate NY",
    location: "Syracuse, NY",
    state: "NY",
    pay: null,
    payPeriod: null,
    payDisclosed: false,
    broker: "Weatherby",
    brokerInitials: "WB",
    scope: ["clinic+call"],
    tags: ["Clinic + Call", "Malpractice + Tail"],
    tagTypes: ["scope", "housing"],
    hasRobotics: false,
    duration: "3 months",
    startDate: "2026",
    url: "https://weatherbyhealthcare.com/locum-tenens-physician-jobs/urology",
    searchText: "syracuse new york upstate"
  },
  {
    title: "Urologist — Community Hospital",
    location: "Columbus, OH",
    state: "OH",
    pay: null,
    payPeriod: null,
    payDisclosed: false,
    broker: "Weatherby",
    brokerInitials: "WB",
    scope: ["clinic+call"],
    tags: ["Clinic + Call", "Community Setting"],
    tagTypes: ["scope", "scope"],
    hasRobotics: false,
    duration: "3-6 months",
    startDate: "2026",
    url: "https://weatherbyhealthcare.com/locum-tenens-physician-jobs/urology",
    searchText: "columbus ohio community hospital"
  },
  {
    title: "Urologist — Portland Area",
    location: "Portland, OR",
    state: "OR",
    pay: null,
    payPeriod: null,
    payDisclosed: false,
    broker: "Medicus HCS",
    brokerInitials: "MH",
    scope: ["clinic+call"],
    tags: ["Clinic + Call", "45 min to Portland"],
    tagTypes: ["scope", "duration"],
    hasRobotics: false,
    duration: "Ongoing",
    startDate: "2026",
    url: "https://medicushcs.com/locum-tenens-urology",
    searchText: "portland oregon outpatient"
  },
  {
    title: "Urologist — Large Health System",
    location: "Philadelphia, PA",
    state: "PA",
    pay: null,
    payPeriod: null,
    payDisclosed: false,
    broker: "LocumTenens.com",
    brokerInitials: "LT",
    scope: ["clinic+call", "surgery"],
    tags: ["Clinic + Call", "Procedures"],
    tagTypes: ["scope", "scope"],
    hasRobotics: false,
    duration: "3-6 months",
    startDate: "2026",
    url: "https://www.locumtenens.com/urology-jobs/",
    searchText: "philadelphia pennsylvania health system"
  },
  {
    title: "Urologist — Locum Tenens",
    location: "Greenville, SC",
    state: "SC",
    pay: "$275 - $325",
    payPeriod: "per hour",
    payDisclosed: true,
    broker: "Curative",
    brokerInitials: "CU",
    scope: ["clinic+call"],
    tags: ["Clinic + Call", "Pay Transparent"],
    tagTypes: ["scope", "transparent"],
    hasRobotics: false,
    duration: "3 months",
    startDate: "2026",
    url: "https://curativetalent.com/clinicians/jobs",
    searchText: "greenville south carolina"
  },
  {
    title: "Urologist — Multi-Site Practice",
    location: "Nashville, TN",
    state: "TN",
    pay: null,
    payPeriod: null,
    payDisclosed: false,
    broker: "Medicus HCS",
    brokerInitials: "MH",
    scope: ["clinic"],
    tags: ["Clinic Only", "Multi-Site"],
    tagTypes: ["scope", "duration"],
    hasRobotics: false,
    duration: "3-6 months",
    startDate: "2026",
    url: "https://medicushcs.com/locum-tenens-urology",
    searchText: "nashville tennessee multi site outpatient"
  },
  {
    title: "Urologist — Trauma Center Coverage",
    location: "Victoria, TX",
    state: "TX",
    pay: null,
    payPeriod: null,
    payDisclosed: false,
    broker: "Staff Care",
    brokerInitials: "SC",
    scope: ["call", "surgery"],
    tags: ["Call + Surgical", "Level II Trauma"],
    tagTypes: ["call", "scope"],
    hasRobotics: false,
    duration: "1-3 months",
    startDate: "2026",
    url: "https://www.staffcare.com/locum-tenens-jobs/search/t/urology/",
    searchText: "victoria texas trauma center level 2"
  },
  {
    title: "Urologist — da Vinci + Laparoscopic",
    location: "Houston, TX",
    state: "TX",
    pay: "$348,000 - $372,000",
    payPeriod: "per year",
    payDisclosed: true,
    broker: "AMN Healthcare",
    brokerInitials: "AMN",
    scope: ["clinic+call", "surgery", "robotics"],
    tags: ["Full Spectrum", "da Vinci Robot", "Pay Transparent"],
    tagTypes: ["scope", "robot", "transparent"],
    hasRobotics: true,
    duration: "6+ months",
    startDate: "2026",
    url: "https://www.amnhealthcare.com/careers/physician/apply/locum-tenens-urology-physician-jobs/",
    searchText: "houston texas da vinci robotic laparoscopic surgery"
  },
  {
    title: "Urologist — Part-Time Hourly",
    location: "Seattle, WA",
    state: "WA",
    pay: "Up to $105,000",
    payPeriod: "per week",
    payDisclosed: true,
    broker: "AMN Healthcare",
    brokerInitials: "AMN",
    scope: ["clinic"],
    tags: ["Part-Time", "Clinic Only", "Major Health System"],
    tagTypes: ["duration", "scope", "scope"],
    hasRobotics: false,
    duration: "Ongoing",
    startDate: "2026",
    url: "https://www.amnhealthcare.com/careers/physician/apply/locum-tenens-urology-physician-jobs/",
    searchText: "seattle washington part time hourly kaiser"
  },
  {
    title: "Urologist — Locum Tenens",
    location: "Fargo, ND",
    state: "ND",
    pay: null,
    payPeriod: null,
    payDisclosed: false,
    broker: "MPLT Healthcare",
    brokerInitials: "MP",
    scope: ["clinic+call"],
    tags: ["Clinic + Call"],
    tagTypes: ["scope"],
    hasRobotics: false,
    duration: "3-6 months",
    startDate: "2026",
    url: "https://www.mplthealthcare.com/",
    searchText: "fargo north dakota"
  },
  {
    title: "Urologist — Dedicated Urology Staffing",
    location: "Multiple Locations",
    state: "",
    pay: null,
    payPeriod: null,
    payDisclosed: false,
    broker: "UrologyLocums.com",
    brokerInitials: "UL",
    scope: ["clinic+call", "surgery"],
    tags: ["All Scopes", "Licensing Covered", "Travel + Housing"],
    tagTypes: ["scope", "housing", "housing"],
    hasRobotics: false,
    duration: "Various",
    startDate: "Ongoing",
    url: "https://www.urologylocums.com/",
    searchText: "nationwide multiple locations dedicated urology staffing"
  }
];

// ========== RENDERING ==========
function renderJobs(filteredJobs) {
  const container = document.getElementById('jobsList');
  const emptyState = document.getElementById('emptyState');
  const resultsCount = document.getElementById('resultsCount');

  if (filteredJobs.length === 0) {
    container.innerHTML = '';
    emptyState.style.display = 'block';
    resultsCount.innerHTML = '<strong>0</strong> positions found';
    return;
  }

  emptyState.style.display = 'none';
  resultsCount.innerHTML = `<strong>${filteredJobs.length}</strong> position${filteredJobs.length !== 1 ? 's' : ''} found`;

  container.innerHTML = filteredJobs.map((job, i) => `
    <div class="job-card" style="animation-delay: ${i * 0.03}s" onclick="window.open('${job.url}', '_blank')">
      <div class="job-card-header">
        <div class="job-card-title-area">
          <div class="job-card-title">${job.title}</div>
          <div class="job-card-location">
            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"/><circle cx="12" cy="10" r="3"/></svg>
            ${job.location}${job.duration ? ' &bull; ' + job.duration : ''}${job.startDate ? ' &bull; Start: ' + job.startDate : ''}
          </div>
        </div>
        <div class="job-card-pay">
          ${job.payDisclosed
            ? `<div class="job-card-pay-amount">${job.pay}</div><div class="job-card-pay-period">${job.payPeriod}</div>`
            : `<div class="pay-hidden"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"/><line x1="1" y1="1" x2="23" y2="23"/></svg> Pay Not Disclosed</div>`
          }
        </div>
      </div>
      <div class="job-card-tags">
        ${job.tags.map((tag, ti) => `<span class="tag tag-${job.tagTypes[ti] || 'scope'}">${tag}</span>`).join('')}
        ${job.payDisclosed ? '<span class="tag tag-transparent">&#10003; Transparent Pay</span>' : ''}
      </div>
      <div class="job-card-meta">
        <div class="job-card-broker">
          <div class="broker-avatar">${job.brokerInitials}</div>
          <div class="broker-name">via <strong>${job.broker}</strong></div>
        </div>
        <div class="job-card-actions">
          <a href="${job.url}" target="_blank" class="btn-view" onclick="event.stopPropagation()">View Listing</a>
        </div>
      </div>
    </div>
  `).join('');
}

// ========== FILTERING ==========
function applyFilters() {
  const search = document.getElementById('searchInput').value.toLowerCase();
  const state = document.getElementById('filterState').value;
  const scope = document.getElementById('filterScope').value;
  const broker = document.getElementById('filterBroker').value;
  const payOnly = document.getElementById('filterPayOnly').classList.contains('active');
  const roboticsOnly = document.getElementById('filterRobotics').classList.contains('active');

  let filtered = jobs.filter(job => {
    if (search && !job.searchText.includes(search) && !job.title.toLowerCase().includes(search) && !job.location.toLowerCase().includes(search) && !job.broker.toLowerCase().includes(search)) return false;
    if (state && job.state !== state) return false;
    if (scope && !job.scope.includes(scope)) return false;
    if (broker && job.broker !== broker) return false;
    if (payOnly && !job.payDisclosed) return false;
    if (roboticsOnly && !job.hasRobotics) return false;
    return true;
  });

  renderJobs(filtered);
}

function toggleFilter(btn) {
  btn.classList.toggle('active');
  applyFilters();
}

// Event listeners
document.getElementById('searchInput').addEventListener('input', applyFilters);
document.getElementById('filterState').addEventListener('change', applyFilters);
document.getElementById('filterScope').addEventListener('change', applyFilters);
document.getElementById('filterBroker').addEventListener('change', applyFilters);

// Initial render — load from Google Sheet or fallback
loadJobs();

// ========== MODAL & SUBMISSION ==========
let currentSubmitterType = 'agency';

function openModal(type) {
  currentSubmitterType = type;
  const overlay = document.getElementById('modalOverlay');
  const title = document.getElementById('modalTitle');
  const subtitle = document.getElementById('modalSubtitle');
  const orgLabel = document.getElementById('orgLabel');
  const btn = document.getElementById('btnSubmitForm');

  // Reset to form view
  document.getElementById('formView').style.display = 'block';
  document.getElementById('successView').style.display = 'none';
  document.getElementById('submissionForm').reset();

  if (type === 'agency') {
    title.textContent = 'Submit an Agency Listing';
    subtitle.textContent = 'Free listing \u2014 reviewed within 48 hours';
    orgLabel.innerHTML = 'Agency / Company Name <span class="req">*</span>';
    btn.className = 'btn-submit-form';
  } else {
    title.textContent = 'Post a Facility Position';
    subtitle.textContent = 'Connect directly with urologists \u2014 no middleman';
    orgLabel.innerHTML = 'Hospital / Facility Name <span class="req">*</span>';
    btn.className = 'btn-submit-form navy';
  }

  overlay.classList.add('active');
  document.body.style.overflow = 'hidden';
}

function closeModal() {
  document.getElementById('modalOverlay').classList.remove('active');
  document.body.style.overflow = '';
}

function handleSubmit(e) {
  e.preventDefault();
  const form = e.target;
  const data = new FormData(form);
  const btn = document.getElementById('btnSubmitForm');

  // Collect scope checkboxes
  const scopes = [];
  form.querySelectorAll('input[name="scope"]:checked').forEach(cb => scopes.push(cb.value));

  // Collect benefits multi-select
  const benefits = [];
  form.querySelectorAll('select[name="benefits"] option:checked').forEach(opt => benefits.push(opt.value));

  // Build the submission object
  const submission = {
    type: currentSubmitterType,
    contactName: data.get('contactName'),
    contactEmail: data.get('contactEmail'),
    orgName: data.get('orgName'),
    phone: data.get('phone'),
    title: data.get('title'),
    location: data.get('location'),
    duration: data.get('duration'),
    startDate: data.get('startDate'),
    scope: scopes,
    benefits: benefits,
    pay: data.get('pay'),
    details: data.get('details'),
    applyUrl: data.get('applyUrl'),
    submittedAt: new Date().toISOString()
  };

  // Disable button while submitting
  btn.disabled = true;
  btn.innerHTML = '<svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/></svg> Submitting...';

  // POST directly to Google Apps Script → writes to your Sheet automatically
  if (APPS_SCRIPT_URL && APPS_SCRIPT_URL !== 'YOUR_APPS_SCRIPT_WEB_APP_URL_HERE') {
    fetch(APPS_SCRIPT_URL, {
      method: 'POST',
      mode: 'no-cors',
      headers: { 'Content-Type': 'text/plain' },
      body: JSON.stringify(submission)
    }).then(() => {
      showSubmissionSuccess();
    }).catch(() => {
      // If Apps Script fails, fall back to mailto
      fallbackToMailto(submission, scopes);
      showSubmissionSuccess();
    });
  } else {
    // Apps Script URL not configured yet — use mailto fallback
    fallbackToMailto(submission, scopes);
    showSubmissionSuccess();
  }
}

function fallbackToMailto(submission, scopes) {
  const subject = encodeURIComponent(
    `[${submission.type === 'agency' ? 'Agency' : 'Facility'}] New Listing: ${submission.title} - ${submission.location}`
  );
  const body = encodeURIComponent(
    `NEW LISTING SUBMISSION\n` +
    `${'='.repeat(40)}\n\n` +
    `Type: ${submission.type === 'agency' ? 'Agency / Recruiter' : 'Hospital / Facility'}\n` +
    `Contact: ${submission.contactName}\n` +
    `Email: ${submission.contactEmail}\n` +
    `Organization: ${submission.orgName}\n` +
    `Phone: ${submission.phone || 'N/A'}\n\n` +
    `POSITION DETAILS\n` +
    `${'-'.repeat(40)}\n` +
    `Title: ${submission.title}\n` +
    `Location: ${submission.location}\n` +
    `Duration: ${submission.duration || 'Not specified'}\n` +
    `Start Date: ${submission.startDate || 'Not specified'}\n` +
    `Scope: ${scopes.length ? scopes.join(', ') : 'Not specified'}\n` +
    `Pay: ${submission.pay || 'NOT DISCLOSED'}\n` +
    `Apply URL: ${submission.applyUrl || 'None'}\n\n` +
    `Details:\n${submission.details || 'None'}\n\n` +
    `Submitted: ${new Date().toLocaleString()}`
  );
  window.location.href = `mailto:advocateurology@pm.me?subject=${subject}&body=${body}`;
}

function showSubmissionSuccess() {
  document.getElementById('formView').style.display = 'none';
  document.getElementById('successView').style.display = 'block';
}

// Close modal on Escape
document.addEventListener('keydown', (e) => {
  if (e.key === 'Escape') closeModal();
});

// Update "List a Position" nav link
document.querySelector('.btn-nav').href = '#submit-position';
document.querySelector('.btn-nav').removeAttribute('target');

// ========== MANIFESTO TOGGLE ==========
function toggleManifesto() {
  const manifesto = document.getElementById('manifesto');
  const toggle = document.getElementById('manifestoToggle');
  const isOpen = manifesto.classList.contains('open');
  manifesto.classList.toggle('open');
  toggle.classList.toggle('open');
  toggle.childNodes[0].textContent = isOpen ? 'Read why ' : 'Close ';
}

// ========== VISITOR COUNTER ==========
(function initVisitorCounter() {
  const badge = document.getElementById('visitorBadge');
  const countEl = document.getElementById('visitorCount');
  const COUNTER_KEY = 'advocate-urology-locums-board-v1';
  // Seed offset so the counter doesn't start at 1 on launch day.
  // Adjust this number to reflect existing site traffic before the board went live.
  const SEED_OFFSET = 142;

  function formatNumber(n) {
    return n.toLocaleString('en-US');
  }

  // Animate counting up from near the target
  function showCount(target) {
    const display = target + SEED_OFFSET;
    const duration = 1200;
    const start = Math.max(0, display - 40);
    const startTime = performance.now();

    function tick(now) {
      const elapsed = now - startTime;
      const progress = Math.min(elapsed / duration, 1);
      const eased = 1 - Math.pow(1 - progress, 3);
      const current = Math.round(start + (display - start) * eased);
      countEl.textContent = formatNumber(current);
      if (progress < 1) requestAnimationFrame(tick);
    }
    requestAnimationFrame(tick);
    setTimeout(() => badge.classList.add('visible'), 600);
  }

  // Fetch with a timeout so we don't hang forever
  function fetchWithTimeout(url, ms) {
    return Promise.race([
      fetch(url),
      new Promise((_, reject) => setTimeout(() => reject(new Error('timeout')), ms))
    ]);
  }

  async function hitCounter() {
    // Try primary API
    try {
      const res = await fetchWithTimeout(
        `https://countapi.mileshilliard.com/api/v1/hit/${COUNTER_KEY}`, 4000
      );
      if (res.ok) {
        const data = await res.json();
        if (data && typeof data.value === 'number') return data.value;
      }
    } catch (e) { /* proceed to fallback */ }

    // Try secondary API
    try {
      const res2 = await fetchWithTimeout(
        `https://api.counterapi.dev/v1/advocate-urology/visits/up`, 4000
      );
      if (res2.ok) {
        const data2 = await res2.json();
        if (data2 && typeof data2.count === 'number') return data2.count;
      }
    } catch (e) { /* proceed to local fallback */ }

    // Final fallback: localStorage
    try {
      let stored = parseInt(localStorage.getItem('au_visitor_count') || '0', 10);
      if (!sessionStorage.getItem('au_counted')) {
        stored += 1;
        localStorage.setItem('au_visitor_count', stored.toString());
        sessionStorage.setItem('au_counted', 'true');
      }
      return stored;
    } catch (e) {
      return 1; // absolute last resort
    }
  }

  // Always show the badge, no matter what
  hitCounter()
    .then(count => showCount(count))
    .catch(() => showCount(1));
})();
</script>

<!-- VISITOR COUNTER BADGE -->
<div class="visitor-badge" id="visitorBadge">
  <div class="visitor-pulse"></div>
  <span class="visitor-count" id="visitorCount">--</span>
  <span class="visitor-label">physicians have visited</span>
</div>

</body>
</html>
